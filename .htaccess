
# Activer le moteur de réécriture
RewriteEngine On

# MIME types corrects
AddType application/javascript .js
AddType text/javascript .js
AddType text/css .css

# Configuration MIME pour les modules JavaScript
<FilesMatch "\.m?js$">
    Header set Content-Type application/javascript
</FilesMatch>

# Permettre l'accès aux assets avec les types MIME appropriés
<FilesMatch "\.(js|mjs|css)$">
    Order Allow,Deny
    Allow from all
    Header set Cache-Control "no-cache, no-store, must-revalidate"
</FilesMatch>

# Rediriger toutes les requêtes vers index.html pour React Router
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/api/
RewriteRule ^(.*)$ index.html [QSA,L]

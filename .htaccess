
# Configuration de base pour PHP
AddHandler application/x-httpd-php .php
SetHandler application/x-httpd-php
php_flag display_errors On
php_value error_reporting 32767

# Activer le moteur de réécriture
RewriteEngine On
Options +FollowSymLinks

# Traitement direct des fichiers de test PHP
RewriteRule ^test-ultra-simple\.php$ test-ultra-simple.php [L]
RewriteRule ^diagnostic-500\.php$ diagnostic-500.php [L]
RewriteRule ^test-minimal\.php$ test-minimal.php [L]
RewriteRule ^super-simple\.php$ super-simple.php [L]

# Redirection pour les assets statiques
RewriteRule ^dist/assets/(.*)$ dist/assets/$1 [L]
RewriteRule ^assets/(.*)$ dist/assets/$1 [L]
RewriteRule ^index\.js$ dist/assets/index.js [L]
RewriteRule ^index\.css$ dist/assets/index.css [L]

# Traitement des requêtes API
RewriteRule ^api/(.*)$ api/$1 [QSA,L]

# Route de secours pour SPA - Utiliser index.php comme point d'entrée
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

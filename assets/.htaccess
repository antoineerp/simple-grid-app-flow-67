
# Activer le moteur de réécriture
RewriteEngine On

# Configuration des types MIME
<IfModule mod_mime.c>
    RemoveType .js .mjs .es.js
    AddType application/javascript .js
    AddType application/javascript .mjs
    AddType application/javascript .es.js
    AddType text/css .css
</IfModule>

# Force le bon type MIME pour les JavaScript
<FilesMatch "\.(js|mjs|es\.js)$">
    <IfModule mod_headers.c>
        Header always set Content-Type "application/javascript; charset=UTF-8"
        Header set X-Content-Type-Options "nosniff"
        ForceType application/javascript
    </IfModule>
</FilesMatch>

# En-têtes de cache pour les assets - désactiver le cache
<FilesMatch "\.(js|mjs|es\.js|css)$">
    <IfModule mod_headers.c>
        Header set Cache-Control "no-cache, no-store, must-revalidate"
    </IfModule>
</FilesMatch>

# Autoriser l'accès aux fichiers
<Files *>
    Order Allow,Deny
    Allow from all
</Files>

# Ajout pour désactiver la négociation de contenu qui pourrait interférer
Options -MultiViews

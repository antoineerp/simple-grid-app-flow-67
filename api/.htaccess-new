
# Activer le moteur de réécriture
RewriteEngine On

# Définir PHP comme gestionnaire des fichiers .php
AddHandler application/x-httpd-php .php

# Force PHP execution
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
</FilesMatch>

# S'assurer que les fichiers PHP sont exécutés et non téléchargés
<IfModule mod_mime.c>
    RemoveType .php
    AddType application/x-httpd-php .php
</IfModule>

# Autoriser l'accès à tous les fichiers de ce répertoire
<Files *>
    Order Allow,Deny
    Allow from all
</Files>

# Configuration CORS pour l'API
Header set Access-Control-Allow-Origin "*"
Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header set Access-Control-Allow-Headers "Content-Type, Authorization"

# Désactiver le cache pour les fichiers PHP
<FilesMatch "\.php$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</FilesMatch>

# Configuration d'erreurs PHP
php_flag display_errors On
php_value error_reporting E_ALL
